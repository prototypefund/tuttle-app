<!DOCTYPE html>
<html>
  <head>
    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.19.0/full/pyodide.js"></script>
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../photon/css/photon.min.css">
  </head>

  <body>


    <!-- Photon layout -->
    <div class="window">

      <!-- header -->
      <header class="toolbar toolbar-header">
      
        <div class="toolbar-actions">
          <div class="btn-group">
            <button class="btn btn-large btn-default">
              <span class="icon icon-home"></span>
            </button>
            <button class="btn btn-large btn-default">
              <span class="icon icon-folder"></span>
            </button>
            <button class="btn btn-large btn-default active">
              <span class="icon icon-cloud"></span>
            </button>
            <button class="btn btn-large btn-default">
              <span class="icon icon-popup"></span>
            </button>
            <button class="btn btn-large btn-default">
              <span class="icon icon-shuffle"></span>
            </button>
          </div>
      
          <button class="btn btn-large btn-default">
            <span class="icon icon-home icon-text"></span>
            Filters
          </button>
      
          <button class="btn btn-large btn-default btn-dropdown pull-right">
            <span class="icon icon-megaphone"></span>
          </button>
        </div>
      </header>

      <div class="window-content">
        <div class="pane-group">
          <div class="pane-sm sidebar">
            <!-- side bar-->
            <nav class="nav-group">
              <h5 class="nav-group-title">Favorites</h5>
              <a class="nav-group-item active">
                <span class="icon icon-home"></span>
                Home
              </a>
              <span class="nav-group-item">
                <span class="icon icon-download"></span>
                Downloads
              </span>
              <span class="nav-group-item">
                <span class="icon icon-folder"></span>
                Documents
              </span>
              <span class="nav-group-item">
                <span class="icon icon-signal"></span>
                AirPlay
              </span>
              <span class="nav-group-item">
                <span class="icon icon-print"></span>
                Applications
              </span>
              <span class="nav-group-item">
                <span class="icon icon-cloud"></span>
                Desktop
              </span>
            </nav>
            <!-- end sidebar -->
          </div>
          <div class="pane">
            <!-- main -->
            <div id="pyodide-demo">
              <p>
                You can execute any Python code. Just enter something in the box below and
                click the button.
              </p>
              <input id="code" value="sum([1, 2, 3, 4, 5])" />
              <button onclick="evaluatePython()">Run</button>
              <br />
              <br />
              <div>Output:</div>
              <textarea id="output" style="width: 100%;" rows="6" disabled></textarea>
          
              <script>
                const output = document.getElementById("output");
                const code = document.getElementById("code");
          
                function addToOutput(s) {
                  output.value += ">>>" + code.value + "\n" + s + "\n";
                }
          
                output.value = "Initializing...\n";
                // init Pyodide
                async function main() {
                  let pyodide = await loadPyodide({
                    indexURL: "https://cdn.jsdelivr.net/pyodide/v0.19.0/full/",
                  });
          
                  output.value += "Ready!\n";
                  return pyodide;
                }
                let pyodideReadyPromise = main();
          
                async function evaluatePython() {
                  let pyodide = await pyodideReadyPromise;
                  // pyodide setup
                  await pyodide.loadPackage("micropip");
                    // load Python packages
                    pyodide.loadPackage(
                    [
                      "pandas",
                      "numpy",
                    ]
                  );
                  // install Python packages
                  pyodide.runPythonAsync(`
                    import micropip
                    await micropip.install('pyicloud')
                  `);
                  // import Python packages
                  try {
                    let output = pyodide.runPython(code.value);
                    addToOutput(output);
                  } catch (err) {
                    addToOutput(err);
                  }
                }
              </script>
            </div>

          </div>
        </div>
      </div>
      <footer class="toolbar toolbar-footer">
        <h1 class="title">Footer</h1>
      </footer>
    </div>



  </body>
</html>